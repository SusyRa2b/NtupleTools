
namespace pu {

  //See this twiki for more info:
  //  https://twiki.cern.ch/twiki/bin/viewauth/CMS/PileupMCReweightingUtilities

  /*
  this data distribution is an hadd of the following histograms:  
  (all in /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/certification/Collisions11/7TeV/PileUp/)

  Cert_160404-163869_7TeV_May10ReReco_Collisions11_JSON_v3.pileupTruth_v2.root
  Cert_165088-167913_7TeV_PromptReco_JSON.pileupTruth_v2.root
  Cert_170249-172619_7TeV_ReReco5Aug_Collisions11_JSON_v2.pileupTruth_v2.root
  Cert_172620-173692_PromptReco_JSON.pileupTruth_v2.root
  Cert_175832-177515_PromptReco_JSON.pileupTruth_v2.root
  Cert_177718_178078_7TeV_PromptReco_Collisons11_JSON.pileupTruth_v2.root
  Cert_178098-180252_7TeV_PromptReco_Collisions11_JSON.pileupTruth.root
  */

  float TrueDist2011_f[35] = {
    0,
    304761,
    5.78132e+06,
    5.06699e+07,
    2.69238e+08,
    5.18854e+08,
    5.76628e+08,
    5.33043e+08,
    4.66102e+08,
    4.26606e+08,
    3.82425e+08,
    3.51807e+08,
    3.30761e+08,
    2.94186e+08,
    2.29225e+08,
    1.45499e+08,
    7.43711e+07,
    3.08969e+07,
    1.0913e+07,
    3.68176e+06,
    1.13003e+06,
    288668,
    64020.4,
    2350.83,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  };

  /*
  this data distribution is an hadd of the following histograms:  
  (all in /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/certification/Collisions11/7TeV/PileUp/)

  Cert_160404-163869_7TeV_May10ReReco_Collisions11_JSON_v3.pileup_v2.root
  Cert_165088-167913_7TeV_PromptReco_JSON.pileup_v2.root
  Cert_170249-172619_7TeV_ReReco5Aug_Collisions11_JSON_v2.pileup_v2.root
  Cert_172620-173692_PromptReco_JSON.pileup_v2.root
  Cert_175832-177515_PromptReco_JSON.pileup_v2.root
  Cert_177718_178078_7TeV_PromptReco_Collisons11_JSON.pileup_v2.root
  Cert_178098-180252_7TeV_PromptReco_Collisions11_JSON.pileup_v2.root
  */

  float ObsDist2011_f[35] = {
    1.34465e+07,
    5.90653e+07,
    1.40903e+08,
    2.41301e+08,
    3.33745e+08,
    3.98711e+08,
    4.30106e+08,
    4.32283e+08,
    4.1382e+08,
    3.82846e+08,
    3.45164e+08,
    3.04344e+08,
    2.62555e+08,
    2.21331e+08,
    1.81983e+08,
    1.4569e+08,
    1.13413e+08,
    8.57789e+07,
    6.30124e+07,
    4.49596e+07,
    3.1169e+07,
    2.10079e+07,
    1.37759e+07,
    8.79641e+06,
    5.47442e+06,
    3.32378e+06,
    1.97064e+06,
    1.14204e+06,
    647539,
    359547,
    195673,
    104460,
    54745.2,
    28185.6,
    28005.5
  };


  // Flat10+Tail distribution taken directly from MixingModule input:  
  //(Can be used for Spring11 and Summer11 if you don't worry about small shifts in the mean) 
  //SHOULD be used for 3-D Reweighting, as this is the "true" input for all Summer11 samples.

  Double_t probdistFlat10_f[35] = {
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0698146584,
    0.0630151648,
    0.0526654164,
    0.0402754482,
    0.0292988928,
    0.0194384503,
    0.0122016783,
    0.007207042,
    0.004003637,
    0.0020278322,
    0.0010739954,
    0.0004595759,
    0.0002229748,
    0.0001028162,
    4.58337152809607E-05,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0,
    0
  };


  // Summer11 PU_S4, distribution obtained by only looking at the in-time crossing.  This is the "spike+smear" distribution
  // RECOMMENDED FOR REWEIGHTING (if ignoring out-of-time PU)
  float PoissonOneXDist_f[35] = {
    1.45346E-01,
    6.42802E-02,
    6.95255E-02,
    6.96747E-02,
    6.92955E-02,
    6.84997E-02,
    6.69528E-02,
    6.45515E-02,
    6.09865E-02,
    5.63323E-02,
    5.07322E-02,
    4.44681E-02,
    3.79205E-02,
    3.15131E-02,
    2.54220E-02,
    2.00184E-02,
    1.53776E-02,
    1.15387E-02,
    8.47608E-03,
    6.08715E-03,
    4.28255E-03,
    2.97185E-03,
    2.01918E-03,
    1.34490E-03,
    8.81587E-04,
    5.69954E-04,
    3.61493E-04,
    2.28692E-04,
    1.40791E-04,
    8.44606E-05,
    5.10204E-05,
    3.07802E-05,
    1.81401E-05,
    1.00201E-05,
    5.80004E-06
  };

  // from https://twiki.cern.ch/twiki/bin/view/CMS/Pileup_MC_Gen_Scenarios
  // allegedly correct for PU_S6 ?? https://twiki.cern.ch/twiki/bin/view/CMS/PdmVPileUpDescription#Profiles_in_Simulation
  Double_t Fall2011[60] = {
    0.003388501,
    0.010357558,
    0.024724258,
    0.042348605,
    0.058279812,
    0.068851751,
    0.072914824,
    0.071579609,
    0.066811668,
    0.060672356,
    0.054528356,
    0.04919354,
    0.044886042,
    0.041341896,
    0.0384679,
    0.035871463,
    0.03341952,
    0.030915649,
    0.028395374,
    0.025798107,
    0.023237445,
    0.020602754,
    0.0180688,
    0.015559693,
    0.013211063,
    0.010964293,
    0.008920993,
    0.007080504,
    0.005499239,
    0.004187022,
    0.003096474,
    0.002237361,
    0.001566428,
    0.001074149,
    0.000721755,
    0.000470838,
    0.00030268,
    0.000184665,
    0.000112883,
    6.74043E-05,
    3.82178E-05,
    2.22847E-05,
    1.20933E-05,
    6.96173E-06,
    3.4689E-06,
    1.96172E-06,
    8.49283E-07,
    5.02393E-07,
    2.15311E-07,
    9.56938E-08,
    0,0,0,0,0,0,0,0,0,0
  };

// Distribution used for Summer2012 MC.
//from https://twiki.cern.ch/twiki/bin/viewauth/CMS/PileupMCReweightingUtilities
  float Summer2012[60] = {
    2.344E-05,
    2.344E-05,
    2.344E-05,
    2.344E-05,
    4.687E-04,
    4.687E-04,
    7.032E-04,
    9.414E-04,
    1.234E-03,
    1.603E-03,
    2.464E-03,
    3.250E-03,
    5.021E-03,
    6.644E-03,
    8.502E-03,
    1.121E-02,
    1.518E-02,
    2.033E-02,
    2.608E-02,
    3.171E-02,
    3.667E-02,
    4.060E-02,
    4.338E-02,
    4.520E-02,
    4.641E-02,
    4.735E-02,
    4.816E-02,
    4.881E-02,
    4.917E-02,
    4.909E-02,
    4.842E-02,
    4.707E-02,
    4.501E-02,
    4.228E-02,
    3.896E-02,
    3.521E-02,
    3.118E-02,
    2.702E-02,
    2.287E-02,
    1.885E-02,
    1.508E-02,
    1.166E-02,
    8.673E-03,
    6.190E-03,
    4.222E-03,
    2.746E-03,
    1.698E-03,
    9.971E-04,
    5.549E-04,
    2.924E-04,
    1.457E-04,
    6.864E-05,
    3.054E-05,
    1.282E-05,
    5.081E-06,
    1.898E-06,
    6.688E-07,
    2.221E-07,
    6.947E-08,
    2.047E-08
   };  

  //for S10 scenario, see here: https://twiki.cern.ch/twiki/bin/view/CMS/Pileup_MC_Gen_Scenarios
  float Summer2012_S10[60] = {
                         2.560E-06,
                         5.239E-06,
                         1.420E-05,
                         5.005E-05,
                         1.001E-04,
                         2.705E-04,
                         1.999E-03,
                         6.097E-03,
                         1.046E-02,
                         1.383E-02,
                         1.685E-02,
                         2.055E-02,
                         2.572E-02,
                         3.262E-02,
                         4.121E-02,
                         4.977E-02,
                         5.539E-02,
                         5.725E-02,
                         5.607E-02,
                         5.312E-02,
                         5.008E-02,
                         4.763E-02,
                         4.558E-02,
                         4.363E-02,
                         4.159E-02,
                         3.933E-02,
                         3.681E-02,
                         3.406E-02,
                         3.116E-02,
                         2.818E-02,
                         2.519E-02,
                         2.226E-02,
                         1.946E-02,
                         1.682E-02,
                         1.437E-02,
                         1.215E-02,
                         1.016E-02,
                         8.400E-03,
                         6.873E-03,
                         5.564E-03,
                         4.457E-03,
                         3.533E-03,
                         2.772E-03,
                         2.154E-03,
                         1.656E-03,
                         1.261E-03,
                         9.513E-04,
                         7.107E-04,
                         5.259E-04,
                         3.856E-04,
                         2.801E-04,
                         2.017E-04,
                         1.439E-04,
                         1.017E-04,
                         7.126E-05,
                         4.948E-05,
                         3.405E-05,
                         2.322E-05,
                         1.570E-05,
                         5.005E-06
 };


  //https://twiki.cern.ch/twiki/bin/view/CMS/PileupJSONFileforData
// command run for all pre technical stop data (ku):
// pileupCalc.py -i /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/certification/Collisions12/8TeV/Prompt/Cert_190456-203002_8TeV_PromptReco_Collisions12_JSON.txt --inputLumiJSON /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/certification/Collisions12/8TeV/PileUp/pileup_JSON_DCSONLY_190389-203002_corr.txt --calcMode true --minBiasXsec 73500 --maxPileupBin 60 --numPileupBins 60 MyDataPileupHistogram.root

  float RunsThrough203002[60] = {
    11267.8,	      
    17830.4,	      
    31465.3,	      
    203836,	      
    453856,	      
    884081,	      
    7.4738e+06,       
    2.6826e+07,       
    6.40799e+07,      
    1.28058e+08,      
    2.25003e+08,      
    3.60398e+08,      
    5.02337e+08,      
    6.02038e+08,      
    6.55226e+08,      
    6.91904e+08,      
    7.21875e+08,      
    7.34934e+08,      
    7.27792e+08,      
    7.09462e+08,      
    6.84817e+08,      
    6.56681e+08,      
    6.27203e+08,      
    5.97767e+08,      
    5.67254e+08,      
    5.29928e+08,      
    4.80151e+08,      
    4.17443e+08,      
    3.46324e+08,      
    2.73094e+08,      
    2.03778e+08,      
    1.43532e+08,      
    9.56936e+07,      
    6.08551e+07,      
    3.72323e+07,      
    2.20123e+07,      
    1.25469e+07,      
    6.84526e+06,      
    3.54681e+06,      
    1.73821e+06,      
    807241,	      
    358102,	      
    153605,	      
    64548.6,	      
    26851,	      
    11118.1,	      
    4586.4,	      
    1881.03,	      
    764.753,	      
    307.439,	      
    122.04,	      
    47.8314,	      
    18.5277,	      
    7.10434,	      
    2.70077,	      
    1.01883,	      
    0.381335,	      
    0.141453,	      
    0.0519055,
    107717	};		      


  //very crude first attempt...just trying to get something
  //at command line:
/*
pileupCalc.py -i GoldenJSON.txt --inputLumiJSON /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/certification/Collisions12/8TeV/PileUp/pileup_JSON_DCSONLY_190389-202478_corr.txt --calcMode true --minBiasXsec 69400 --maxPileupBin 60 --numPileupBins 60 MyDataPileupHistogram.root

note that the json files don't exactly correspond
Then in ROOT:
 for (int i=1; i<=60; i++) cout<<pileup->GetBinContent(i)<<","<<endl;
Then copy/paste here


*/

  float RunsThrough202016[60] = {
    12098.1,
    19663.6,
    37685.1,
    175102,
    480748,
    2.01443e+06,
    1.40346e+07,
    4.24219e+07,
    9.41773e+07,
    1.71649e+08,
    2.84218e+08,
    4.23014e+08,
    5.33103e+08,
    5.96032e+08,
    6.39027e+08,
    6.75738e+08,
    6.90847e+08,
    6.78478e+08,
    6.50954e+08,
    6.18435e+08,
    5.85033e+08,
    5.53875e+08,
    5.26098e+08,
    4.96961e+08,
    4.57616e+08,
    4.03022e+08,
    3.35367e+08,
    2.6168e+08,
    1.90249e+08,
    1.28354e+08,
    8.05909e+07,
    4.76831e+07,
    2.70876e+07,
    1.50146e+07,
    8.1584e+06,
    4.31026e+06,
    2.1853e+06,
    1.05407e+06,
    483856,
    213103,
    91085,
    38152.9,
    15745.8,
    6410.79,
    2572.33,
    1015.55,
    393.982,
    150.136,
    56.241,
    20.7474,
    7.5553,
    2.72186,
    0.971295,
    0.343299,
    0.120017,
    0.0414123,
    0.0140697,
    0.00469646,
    0.00153769,
    157660  };

  float RunsThrough199703[60] = {
    9676.51,
    21216.3,
    46434,
    148828,
    587973,
    1.06826e+06,
    6.71038e+06,
    2.01898e+07,
    4.3258e+07,
    7.96691e+07,
    1.33624e+08,
    2.11984e+08,
    2.98125e+08,
    3.76286e+08,
    4.42083e+08,
    4.94324e+08,
    5.11127e+08,
    4.75004e+08,
    4.11169e+08,
    3.54216e+08,
    3.13188e+08,
    2.82781e+08,
    2.57139e+08,
    2.33125e+08,
    2.09973e+08,
    1.8757e+08,
    1.6579e+08,
    1.44676e+08,
    1.24467e+08,
    1.05478e+08,
    8.79922e+07,
    7.22246e+07,
    5.83052e+07,
    4.62772e+07,
    3.61038e+07,
    2.76809e+07,
    2.08537e+07,
    1.54351e+07,
    1.12231e+07,
    8.01604e+06,
    5.62346e+06,
    3.87439e+06,
    2.62128e+06,
    1.74134e+06,
    1.1357e+06,
    727103,
    456908,
    281779,
    170523,
    101252,
    58982,
    33705.1,
    18892.5,
    10386.5,
    5600.23,
    2961.23,
    1535.49,
    780.744,
    389.264,
    65588.9  };

  // /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/certification/Collisions12/8TeV/PileUp/

  ///////////////////////////////////////////////////
  //The below PU distributions were used for the Summer 2011 result
  ///////////////////////////////////////////////////

  ////the data histogram obtained from: 
  //// /afs/cern.ch/cms/CAF/CMSCOMM/COMM_DQM/certification/Collisions11/7TeV/PileUp/Pileup_2011_EPS_8_jul.root
  //float TrueDist2011_f[25] = {
  //  1.45417e+07,
  //  3.47743e+07,
  //  7.89247e+07,
  //  1.26467e+08,
  //  1.59329e+08,
  //  1.67603e+08,
  //  1.52684e+08,
  //  1.23794e+08,
  //  9.09462e+07,
  //  6.13973e+07,
  //  3.8505e+07,
  //  2.2628e+07,
  //  1.25503e+07,
  //  6.61051e+06,
  //  3.32403e+06,
  //  1.60286e+06,
  //  743920,
  //  333477,
  //  144861,
  //  61112.7,
  //  25110.2,
  //  10065.1,
  //  3943.98,
  //  1513.54,
  //  896.161
  //};
  ////Summer11 PU_S4 distribution
  ////obtained from https://twiki.cern.ch/twiki/bin/viewauth/CMS/PileupMCReweightingUtilities
  //Double_t PoissonIntDist_f[25] = {
  //  0.104109,
  //  0.0703573,
  //  0.0698445,
  //  0.0698254,
  //  0.0697054,
  //  0.0697907,
  //  0.0696751,
  //  0.0694486,
  //  0.0680332,
  //  0.0651044,
  //  0.0598036,
  //  0.0527395,
  //  0.0439513,
  //  0.0352202,
  //  0.0266714,
  //  0.019411,
  //  0.0133974,
  //  0.00898536,
  //  0.0057516,
  //  0.00351493,
  //  0.00212087,
  //  0.00122891,
  //  0.00070592,
  //  0.000384744,
  //  0.000219377
  //};

}
